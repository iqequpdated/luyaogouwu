<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>璐瑶购物 - 您的专属购物平台</title>
    <!-- 使用最新版本的Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        /* 基础样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        
        .app-container {
            max-width: 480px;
            margin: 0 auto;
            background: white;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        /* 顶部导航栏 */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-weight: bold;
            font-size: 18px;
        }
        
        .logo i {
            margin-right: 8px;
            font-size: 20px;
        }
        
        .search-bar {
            flex: 1;
            margin: 0 15px;
            position: relative;
        }
        
        .search-bar input {
            width: 100%;
            padding: 8px 15px;
            border-radius: 20px;
            border: none;
            outline: none;
            font-size: 14px;
        }
        
        .search-bar i {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #777;
        }
        
        .header-icons {
            display: flex;
            gap: 15px;
        }
        
        .header-icons i {
            font-size: 20px;
            position: relative;
            cursor: pointer;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff4757;
            color: white;
            border-radius: 50%;
            width: 16px;
            height: 16px;
            font-size: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* 通知列表 */
        .notifications-list {
            display: none;
            position: absolute;
            top: 60px;
            right: 15px;
            width: 300px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            z-index: 99;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .notification-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .notification-item.unread {
            background: #f0f8ff;
        }
        
        .notification-title {
            font-weight: bold;
            margin-bottom: 5px;
            color: #2575fc;
        }
        
        .notification-content {
            font-size: 14px;
            margin-bottom: 5px;
        }
        
        .notification-time {
            font-size: 12px;
            color: #777;
        }
        
        /* 内容区域 */
        .content {
            padding-bottom: 70px;
        }
        
        .page {
            display: none;
            padding: 15px;
        }
        
        .page.active {
            display: block;
        }
        
        .banner {
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 10px;
            margin-bottom: 20px;
            font-weight: bold;
            font-size: 18px;
        }
        
        .categories {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }
        
        .category {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .category.active {
            background: #e6f7ff;
            color: #1890ff;
        }
        
        .category-icon {
            font-size: 24px;
            margin-bottom: 5px;
        }
        
        .category-name {
            font-size: 12px;
        }
        
        .section-title {
            font-size: 18px;
            font-weight: bold;
            margin: 20px 0 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .products {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        
        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
        }
        
        .product-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }
        
        .product-info {
            padding: 10px;
        }
        
        .product-name {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 14px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .product-price {
            color: #ff4757;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .product-actions {
            display: flex;
            justify-content: space-between;
        }
        
        .btn {
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s;
        }
        
        .btn-primary {
            background: #1890ff;
            color: white;
        }
        
        .btn-primary:hover {
            background: #40a9ff;
        }
        
        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }
        
        .btn-secondary:hover {
            background: #e0e0e0;
        }
        
        /* 底部导航栏 */
        .bottom-nav {
            display: flex;
            justify-content: space-around;
            align-items: center;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 480px;
            margin: 0 auto;
            background: white;
            padding: 10px 0;
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            z-index: 100;
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            color: #777;
            transition: all 0.3s;
        }
        
        .nav-item.active {
            color: #1890ff;
        }
        
        .nav-item i {
            font-size: 20px;
            margin-bottom: 5px;
        }
        
        .nav-item span {
            font-size: 12px;
        }
        
        /* 联系客服页面 */
        .contact-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .contact-header i {
            font-size: 40px;
            color: #1890ff;
            margin-bottom: 10px;
        }
        
        .contact-methods {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .contact-method {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .contact-method:hover {
            transform: translateY(-5px);
        }
        
        .contact-method i {
            font-size: 24px;
            color: #1890ff;
            margin-bottom: 10px;
        }
        
        .contact-detail {
            font-weight: bold;
            margin: 5px 0;
        }
        
        .contact-note {
            font-size: 12px;
            color: #777;
        }
        
        .online-status {
            font-size: 12px;
            color: #52c41a;
        }
        
        .status-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            background: #52c41a;
            border-radius: 50%;
            margin-right: 5px;
        }
        
        /* 聊天框 */
        .chat-box {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 300px;
            height: 400px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            z-index: 101;
        }
        
        .chat-header {
            background: #1890ff;
            color: white;
            padding: 10px 15px;
            border-radius: 10px 10px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .chat-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 10px;
            max-width: 80%;
        }
        
        .message.bot {
            background: #f0f0f0;
            align-self: flex-start;
        }
        
        .message.user {
            background: #1890ff;
            color: white;
            align-self: flex-end;
            margin-left: auto;
        }
        
        .chat-input {
            display: flex;
            padding: 10px;
            border-top: 1px solid #eee;
        }
        
        .chat-input input {
            flex: 1;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
        }
        
        .chat-input button {
            background: #1890ff;
            color: white;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            margin-left: 10px;
            cursor: pointer;
        }
        
        /* 我的页面 */
        .user-profile {
            display: flex;
            align-items: center;
            padding: 20px;
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            overflow: hidden;
            cursor: pointer;
        }
        
        .user-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .user-info {
            flex: 1;
        }
        
        .user-name {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .user-level {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .user-stats {
            display: flex;
            justify-content: space-around;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #1890ff;
        }
        
        .stat-label {
            font-size: 12px;
            color: #777;
        }
        
        .menu-items {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .menu-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .menu-item:last-child {
            border-bottom: none;
        }
        
        .menu-item:hover {
            background: #f5f5f5;
        }
        
        .menu-item i {
            font-size: 20px;
            margin-right: 15px;
            color: #1890ff;
            width: 24px;
            text-align: center;
        }
        
        /* 模态框 */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            width: 90%;
            max-width: 400px;
            border-radius: 10px;
            overflow: hidden;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .modal-title {
            font-weight: bold;
            font-size: 18px;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #777;
        }
        
        /* 支付选项 */
        .payment-options {
            padding: 15px;
        }
        
        .payment-option {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 1px solid #eee;
            border-radius: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .payment-option.active {
            border-color: #1890ff;
            background: #f0f8ff;
        }
        
        .payment-icon {
            font-size: 30px;
            margin-right: 15px;
            width: 40px;
            text-align: center;
        }
        
        .alipay .payment-icon {
            color: #1677ff;
        }
        
        .wechat .payment-icon {
            color: #07c160;
        }
        
        .kbz .payment-icon {
            color: #ff6b35;
        }
        
        .payment-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .payment-desc {
            font-size: 12px;
            color: #777;
        }
        
        .qr-code-section {
            padding: 15px;
            text-align: center;
            display: none;
        }
        
        .qr-code-section.active {
            display: block;
        }
        
        .qr-code {
            width: 200px;
            height: 200px;
            margin: 0 auto 15px;
            border: 1px solid #eee;
            padding: 10px;
            border-radius: 5px;
        }
        
        .qr-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .confirm-btn {
            width: 100%;
            padding: 15px;
            background: #1890ff;
            color: white;
            border: none;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .confirm-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .confirm-btn:not(:disabled):hover {
            background: #40a9ff;
        }
        
        /* 表单样式 */
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        
        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            outline: none;
        }
        
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            border-color: #1890ff;
        }
        
        .form-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        /* 管理员申请页面 */
        .application-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            position: relative;
        }
        
        .application-steps::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background: #eee;
            z-index: 1;
        }
        
        .step {
            position: relative;
            z-index: 2;
            text-align: center;
            flex: 1;
            padding: 10px 0;
            color: #777;
            font-size: 14px;
        }
        
        .step.active {
            color: #1890ff;
            font-weight: bold;
        }
        
        .step::before {
            content: '';
            display: block;
            width: 30px;
            height: 30px;
            background: #eee;
            border-radius: 50%;
            margin: 0 auto 5px;
            line-height: 30px;
        }
        
        .step.active::before {
            background: #1890ff;
            color: white;
        }
        
        .step[data-step="1"]::before {
            content: '1';
        }
        
        .step[data-step="2"]::before {
            content: '2';
        }
        
        .step[data-step="3"]::before {
            content: '3';
        }
        
        .application-step {
            display: none;
        }
        
        .application-step.active {
            display: block;
        }
        
        .verification-info, .application-result {
            text-align: center;
            padding: 20px 0;
        }
        
        .verification-info i, .application-result i {
            font-size: 50px;
            color: #1890ff;
            margin-bottom: 15px;
        }
        
        .application-id {
            background: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            margin-top: 15px;
            font-family: monospace;
        }
        
        .application-notes {
            background: #f9f9f9;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
        }
        
        .application-notes h4 {
            margin-bottom: 10px;
        }
        
        .application-notes ul {
            padding-left: 20px;
        }
        
        .application-notes li {
            margin-bottom: 5px;
        }
        
        /* 购物车和结算 */
        .cart-item {
            display: flex;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .cart-item-image {
            width: 80px;
            height: 80px;
            border-radius: 5px;
            overflow: hidden;
            margin-right: 15px;
        }
        
        .cart-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .cart-item-info {
            flex: 1;
        }
        
        .cart-item-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .cart-item-price {
            color: #ff4757;
            font-weight: bold;
        }
        
        .cart-item-actions {
            display: flex;
            align-items: center;
            margin-top: 10px;
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
            margin-right: 15px;
        }
        
        .quantity-btn {
            width: 30px;
            height: 30px;
            background: #f0f0f0;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        
        .quantity-input {
            width: 40px;
            height: 30px;
            text-align: center;
            border: 1px solid #ddd;
            margin: 0 5px;
            border-radius: 5px;
        }
        
        .remove-btn {
            color: #ff4757;
            background: none;
            border: none;
            cursor: pointer;
        }
        
        .cart-summary {
            padding: 15px;
            background: white;
            border-top: 1px solid #eee;
            position: sticky;
            bottom: 70px;
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 15px;
        }
        
        .checkout-btn {
            width: 100%;
            padding: 15px;
            background: #1890ff;
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }
        
        /* 响应式调整 */
        @media (max-width: 480px) {
            .app-container {
                box-shadow: none;
            }
            
            .categories {
                overflow-x: auto;
                padding-bottom: 10px;
            }
            
            .category {
                min-width: 70px;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- 顶部导航栏 -->
        <div class="header">
            <div class="logo">
                <i class="fas fa-shopping-bag"></i>
                <span>璐瑶购物</span>
            </div>
            <div class="search-bar">
                <input type="text" placeholder="搜索商品">
                <i class="fas fa-search"></i>
            </div>
            <div class="header-icons">
                <i class="far fa-bell" id="notification-icon">
                    <span class="notification-badge" id="notification-badge">3</span>
                </i>
                <i class="far fa-comment-dots" id="chat-toggle"></i>
                <a href="#" class="admin-link" id="admin-link" title="后台管理">
                    <i class="fas fa-cog"></i>
                </a>
            </div>
        </div>
        
        <!-- 通知列表 -->
        <div class="notifications-list" id="notifications-list">
            <div class="notification-item unread">
                <div class="notification-title">系统通知</div>
                <div class="notification-content">您的订单 #ORD001 已发货，请注意查收</div>
                <div class="notification-time">2小时前</div>
            </div>
            <div class="notification-item unread">
                <div class="notification-title">促销活动</div>
                <div class="notification-content">新用户专享优惠券已发放至您的账户</div>
                <div class="notification-time">5小时前</div>
            </div>
            <div class="notification-item">
                <div class="notification-title">账户安全</div>
                <div class="notification-content">您的账户在异地登录，如非本人操作请及时修改密码</div>
                <div class="notification-time">1天前</div>
            </div>
            <div class="notification-item">
                <div class="notification-title">新品上架</div>
                <div class="notification-content">iPhone 14 Pro 新品已上架，立即抢购</div>
                <div class="notification-time">2天前</div>
            </div>
        </div>
        
        <!-- 内容区域 -->
        <div class="content">
            <!-- 首页 -->
            <div class="page active" id="home">
                <div class="banner">
                    新品上市 限时特惠
                </div>
                
                <div class="categories">
                    <div class="category active" data-category="all">
                        <div class="category-icon">
                            <i class="fas fa-th-large"></i>
                        </div>
                        <div class="category-name">全部</div>
                    </div>
                    <div class="category" data-category="clothing">
                        <div class="category-icon">
                            <i class="fas fa-tshirt"></i>
                        </div>
                        <div class="category-name">服装</div>
                    </div>
                    <div class="category" data-category="digital">
                        <div class="category-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="category-name">数码</div>
                    </div>
                    <div class="category" data-category="car">
                        <div class="category-icon">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="category-name">汽车</div>
                    </div>
                </div>
                
                <div class="section-title">热门推荐</div>
                
                <div class="products" id="product-list">
                    <!-- 产品将通过JavaScript动态加载 -->
                </div>
            </div>
            
            <!-- 购物页面 -->
            <div class="page" id="shopping">
                <div class="filter-bar">
                    <div class="filter-option">
                        综合排序 <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="filter-option">
                        销量 <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="filter-option">
                        价格 <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="filter-option">
                        筛选 <i class="fas fa-filter"></i>
                    </div>
                </div>
                
                <div class="section-title">全部商品</div>
                
                <div class="products" id="shopping-product-list">
                    <!-- 产品将通过JavaScript动态加载 -->
                </div>
            </div>
            
            <!-- 联系客服页面 -->
            <div class="page" id="contact">
                <div class="contact-header">
                    <i class="fas fa-paper-plane"></i>
                    <h2>联系客服</h2>
                    <p>我们随时为您服务</p>
                </div>
                
                <div class="contact-methods">
                    <div class="contact-method" onclick="makePhoneCall()">
                        <i class="fas fa-phone-alt"></i>
                        <div>电话客服</div>
                        <div class="contact-detail">09-665596297</div>
                        <div class="contact-note">点击直接拨打</div>
                    </div>
                    <div class="contact-method" onclick="sendEmail()">
                        <i class="fas fa-envelope"></i>
                        <div>邮件反馈</div>
                        <div class="contact-detail">luy56913@gmail.com</div>
                        <div class="contact-note">点击发送邮件</div>
                    </div>
                    <div class="contact-method" id="live-chat-btn">
                        <i class="fas fa-comments"></i>
                        <div>在线客服</div>
                        <div class="contact-detail">立即咨询</div>
                        <div class="online-status"><span class="status-dot"></span> 在线</div>
                    </div>
                    <div class="contact-method">
                        <i class="fas fa-map-marker-alt"></i>
                        <div>服务中心</div>
                        <div class="contact-detail">查看店位置</div>
                        <div class="contact-note">全国100+门店</div>
                    </div>
                </div>

                <!-- 聊天框 -->
                <div class="chat-box" id="chat-box">
                    <div class="chat-header">
                        <i class="fas fa-robot"></i>
                        <span>智能客服</span>
                        <i class="fas fa-times" id="close-chat"></i>
                    </div>
                    <div class="chat-messages" id="chat-messages">
                        <div class="message bot">
                            您好！我是璐瑶购物智能客服，有什么可以帮助您的吗？
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="user-input" placeholder="请输入您的问题...">
                        <button id="send-btn"><i class="fas fa-paper-plane"></i></button>
                    </div>
                </div>
                
                <div class="social-contact">
                    <div class="social-title">通过Telegram联系店长</div>
                    <a href="https://t.me/ryh888c" class="telegram-link" target="_blank">
                        <i class="fab fa-telegram-plane"></i>
                        @ryh888c
                    </a>
                </div>
                
                <div class="section-title">常见问题</div>
                
                <div class="faq-list">
                    <div class="faq-item">
                        <div class="faq-question">
                            如何查询订单状态？
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            您可以在"我的-我的订单"中查看所有订单的详细状态。
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            退货流程是怎样的？
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            在"我的订单"中选择需要退货的商品，提交退货申请，等待审核通过后按照指引寄回商品。
                        </div>
                    </div>
                    <div class="faq-item">
                        <div class="faq-question">
                            如何修改收货地址？
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">
                            在"我的-地址管理"中可以添加、修改或删除收货地址。
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 我的页面 -->
            <div class="page" id="profile">
                <div class="user-profile">
                    <div class="user-avatar">
                        <i class="fas fa-user" id="default-avatar"></i>
                        <input type="file" id="avatar-upload" accept="image/*" style="display: none;">
                    </div>
                    <div class="user-info">
                        <div class="user-name">璐瑶用户</div>
                        <div class="user-level">黄金会员</div>
                    </div>
                    <i class="fas fa-cog" id="profile-settings"></i>
                </div>
                
                <div class="user-stats">
                    <div class="stat-item">
                        <div class="stat-value">3</div>
                        <div class="stat-label">待付款</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">5</div>
                        <div class="stat-label">待发货</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">2</div>
                        <div class="stat-label">待收货</div>
                    </div>
                </div>
                
                <div class="menu-items">
                    <div class="menu-item" id="my-favorites">
                        <i class="far fa-heart"></i>
                        <span>我的收藏</span>
                    </div>
                    <div class="menu-item" id="my-wallet">
                        <i class="far fa-credit-card"></i>
                        <span>我的钱包</span>
                    </div>
                    <div class="menu-item" id="my-coupons">
                        <i class="fas fa-tag"></i>
                        <span>我的优惠券</span>
                    </div>
                    <div class="menu-item" id="address-management">
                        <i class="fas fa-map-marker-alt"></i>
                        <span>地址管理</span>
                    </div>
                    <div class="menu-item" id="help-center">
                        <i class="fas fa-question-circle"></i>
                        <span>帮助中心</span>
                    </div>
                    <div class="menu-item" id="admin-menu-item">
                        <i class="fas fa-cog"></i>
                        <span>后台管理</span>
                    </div>
                </div>
            </div>
            
            <!-- 收藏页面 -->
            <div class="page" id="favorites">
                <div class="section-title">我的收藏</div>
                <div class="products" id="favorites-list">
                    <!-- 收藏商品将通过JavaScript动态加载 -->
                </div>
                <div class="cart-summary" id="favorites-summary" style="display: none;">
                    <div class="cart-total">
                        <span>总计:</span>
                        <span id="favorites-total">¥0.00</span>
                    </div>
                    <button class="checkout-btn" id="checkout-favorites">结算选中商品</button>
                </div>
            </div>
            
            <!-- 钱包页面 -->
            <div class="page" id="wallet">
                <div class="section-title">我的钱包</div>
                <div class="wallet-balance">
                    <div class="balance-card">
                        <div class="balance-label">账户余额</div>
                        <div class="balance-amount">¥1,258.60</div>
                    </div>
                </div>
                <div class="wallet-actions">
                    <button class="btn btn-primary">充值</button>
                    <button class="btn btn-secondary">提现</button>
                </div>
                <div class="transaction-history">
                    <div class="section-title">交易记录</div>
                    <div class="transaction-list">
                        <!-- 交易记录将通过JavaScript动态加载 -->
                    </div>
                </div>
            </div>
            
            <!-- 优惠券页面 -->
            <div class="page" id="coupons">
                <div class="section-title">我的优惠券</div>
                <div class="coupon-tabs">
                    <div class="coupon-tab active" data-tab="available">可用优惠券</div>
                    <div class="coupon-tab" data-tab="used">已使用</div>
                    <div class="coupon-tab" data-tab="expired">已过期</div>
                </div>
                <div class="coupon-list">
                    <!-- 优惠券将通过JavaScript动态加载 -->
                </div>
            </div>
            
            <!-- 地址管理页面 -->
            <div class="page" id="addresses">
                <div class="section-title">地址管理</div>
                <div class="address-list">
                    <!-- 地址将通过JavaScript动态加载 -->
                </div>
                <button class="btn btn-primary" id="add-address-btn">添加新地址</button>
            </div>
            
            <!-- 帮助中心页面 -->
            <div class="page" id="help">
                <div class="section-title">帮助中心</div>
                <div class="help-categories">
                    <div class="help-category">
                        <i class="fas fa-shopping-cart"></i>
                        <span>购物指南</span>
                    </div>
                    <div class="help-category">
                        <i class="fas fa-truck"></i>
                        <span>配送说明</span>
                    </div>
                    <div class="help-category">
                        <i class="fas fa-undo-alt"></i>
                        <span>退换货政策</span>
                    </div>
                    <div class="help-category">
                        <i class="fas fa-shield-alt"></i>
                        <span>账户安全</span>
                    </div>
                </div>
                <div class="help-articles">
                    <!-- 帮助文章将通过JavaScript动态加载 -->
                </div>
            </div>
            
            <!-- 管理员申请页面 -->
            <div class="page" id="admin-apply">
                <div class="contact-header">
                    <i class="fas fa-user-shield"></i>
                    <h2>管理员申请</h2>
                    <p>申请成为璐瑶购物管理员</p>
                </div>

                <div class="application-form-container">
                    <div class="application-steps">
                        <div class="step active" data-step="1">填写信息</div>
                        <div class="step" data-step="2">邮箱验证</div>
                        <div class="step" data-step="3">等待审核</div>
                    </div>

                    <!-- 步骤1：基本信息 -->
                    <div class="application-step active" id="step-1">
                        <div class="form-group">
                            <label for="apply-username">用户名 *</label>
                            <input type="text" id="apply-username" placeholder="设置管理员用户名">
                        </div>
                        <div class="form-group">
                            <label for="apply-email">邮箱地址 *</label>
                            <input type="email" id="apply-email" placeholder="用于接收验证码和通知">
                        </div>
                        <div class="form-group">
                            <label for="apply-password">密码 *</label>
                            <input type="password" id="apply-password" placeholder="设置管理员密码">
                        </div>
                        <div class="form-group">
                            <label for="apply-reason">申请理由 *</label>
                            <textarea id="apply-reason" placeholder="请详细说明您申请管理员的理由和经验..." rows="4"></textarea>
                        </div>
                        <div class="form-actions">
                            <button class="btn btn-primary" id="submit-application">提交申请</button>
                        </div>
                    </div>

                    <!-- 步骤2：邮箱验证 -->
                    <div class="application-step" id="step-2">
                        <div class="verification-info">
                            <i class="fas fa-envelope"></i>
                            <h3>邮箱验证</h3>
                            <p>我们已向 <span id="verify-email"></span> 发送了验证码</p>
                            <p>请输入收到的6位验证码完成验证</p>
                        </div>
                        <div class="form-group">
                            <label for="verify-code">验证码</label>
                            <input type="text" id="verify-code" placeholder="输入6位验证码" maxlength="6">
                        </div>
                        <div class="form-actions">
                            <button class="btn btn-secondary" id="resend-code">重新发送</button>
                            <button class="btn btn-primary" id="verify-email-btn">验证邮箱</button>
                        </div>
                    </div>

                    <!-- 步骤3：等待审核 -->
                    <div class="application-step" id="step-3">
                        <div class="application-result">
                            <i class="fas fa-clock"></i>
                            <h3>申请已提交</h3>
                            <p>您的管理员申请已提交成功，正在等待审核</p>
                            <p>我们会在1-3个工作日内通过邮件通知您审核结果</p>
                            <div class="application-id">
                                申请ID: <span id="application-id"></span>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button class="btn btn-primary" id="back-to-home">返回首页</button>
                        </div>
                    </div>
                </div>

                <div class="application-notes">
                    <h4>申请说明：</h4>
                    <ul>
                        <li>📧 必须使用真实邮箱，用于接收验证码和审核结果</li>
                        <li>⏰ 审核周期为1-3个工作日</li>
                        <li>🔒 通过审核后，您将获得产品管理权限</li>
                        <li>⚠️ 滥用权限将被永久封禁</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- 底部导航栏 -->
        <div class="bottom-nav">
            <div class="nav-item active" data-page="home">
                <i class="fas fa-home"></i>
                <span>首页</span>
            </div>
            <div class="nav-item" data-page="shopping">
                <i class="fas fa-shopping-cart"></i>
                <span>购物</span>
            </div>
            <div class="nav-item" data-page="contact">
                <i class="fas fa-paper-plane"></i>
                <span>客服</span>
            </div>
            <div class="nav-item" data-page="profile">
                <i class="fas fa-user"></i>
                <span>我的</span>
            </div>
        </div>
    </div>

    <!-- 支付弹窗 -->
    <div class="modal" id="payment-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">选择支付方式</div>
                <button class="close-modal">&times;</button>
            </div>
            
            <div class="payment-options">
                <div class="payment-option alipay" data-payment="alipay">
                    <div class="payment-icon">
                        <i class="fab fa-alipay"></i>
                    </div>
                    <div class="payment-info">
                        <div class="payment-name">支付宝支付</div>
                        <div class="payment-desc">推荐使用支付宝扫码支付</div>
                    </div>
                </div>
                
                <div class="payment-option wechat" data-payment="wechat">
                    <div class="payment-icon">
                        <i class="fab fa-weixin"></i>
                    </div>
                    <div class="payment-info">
                        <div class="payment-name">微信支付</div>
                        <div class="payment-desc">推荐使用微信扫码支付</div>
                    </div>
                </div>
                
                <div class="payment-option kbz" data-payment="kbz">
                    <div class="payment-icon">
                        <i class="fas fa-university"></i>
                    </div>
                    <div class="payment-info">
                        <div class="payment-name">KBZ Pay</div>
                        <div class="payment-desc">缅甸KBZ银行支付</div>
                    </div>
                </div>
            </div>
            
           <!-- 支付宝二维码 -->
            <div class="qr-code-section" id="alipay-qr">
                <div class="qr-code">
                    <!-- 这里使用占位图片，实际应用中应替换为真实的二维码 -->
                    <div style="width: 100%; height: 100%; background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #999;">
                        支付宝二维码
                    </div>
                </div>
                <p>请使用支付宝扫描上方二维码完成支付，或点击二维码保存到本地</p>
            </div>

            <!-- 微信二维码 -->
            <div class="qr-code-section" id="wechat-qr">
                <div class="qr-code">
                    <div style="width: 100%; height: 100%; background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #999;">
                        微信二维码
                    </div>
                </div>
                <p>请使用微信扫描上方二维码完成支付，或点击二维码保存到本地</p>
            </div>

            <!-- KBZ Pay -->
            <div class="qr-code-section" id="kbz-pay">
                <div class="qr-code">
                    <div style="width: 100%; height: 100%; background: #f0f0f0; display: flex; align-items: center; justify-content: center; color: #999;">
                        KBZ Pay二维码
                    </div>
                </div>
                <p>请使用KBZ Pay扫描上方二维码完成支付，或点击二维码保存到本地</p>
            </div>
            
            <button class="confirm-btn" id="confirm-payment" disabled>确认支付</button>
        </div>
    </div>

    <!-- 认证弹窗 -->
    <div class="modal" id="auth-modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">管理员认证</div>
                <button class="close-modal">&times;</button>
            </div>
            <div class="auth-form">
                <div class="form-group">
                    <label for="auth-username">管理员账号</label>
                    <input type="text" id="auth-username" placeholder="请输入管理员账号">
                </div>
                <div class="form-group">
                    <label for="auth-password">密码</label>
                    <input type="password" id="auth-password" placeholder="请输入管理员密码">
                </div>
                <div class="auth-actions">
                    <button class="btn btn-secondary" id="cancel-auth">取消</button>
                    <button class="btn btn-primary" id="submit-auth">登录</button>
                </div>
            </div>
        </div>
    </div>

    <!-- 音频元素用于播放通知声音 -->
    <audio id="notification-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" type="audio/mpeg">
    </audio>

    <script>
        // 产品数据
        const products = [
            {
                id: 1,
                name: "iPhone 14 Pro",
                price: 8999,
                image: "https://via.placeholder.com/150",
                category: "digital",
                description: "最新款iPhone，搭载A16芯片"
            },
            {
                id: 2,
                name: "时尚连衣裙",
                price: 299,
                image: "https://via.placeholder.com/150",
                category: "clothing",
                description: "夏季新款时尚连衣裙"
            },
            {
                id: 3,
                name: "小米电视",
                price: 2499,
                image: "https://via.placeholder.com/150",
                category: "digital",
                description: "4K超高清智能电视"
            },
            {
                id: 4,
                name: "汽车坐垫",
                price: 199,
                image: "https://via.placeholder.com/150",
                category: "car",
                description: "舒适透气汽车坐垫"
            },
            {
                id: 5,
                name: "运动鞋",
                price: 399,
                image: "https://via.placeholder.com/150",
                category: "clothing",
                description: "轻便舒适运动鞋"
            },
            {
                id: 6,
                name: "汽车香水",
                price: 89,
                image: "https://via.placeholder.com/150",
                category: "car",
                description: "持久清香汽车香水"
            }
        ];

        // 用户数据
        let userData = {
            favorites: [],
            cart: [],
            addresses: [
                {
                    id: 1,
                    name: "张三",
                    phone: "13800138000",
                    address: "北京市朝阳区某某街道123号",
                    isDefault: true
                }
            ],
            coupons: [
                {
                    id: 1,
                    name: "新用户优惠券",
                    discount: 50,
                    minAmount: 200,
                    expiryDate: "2023-12-31",
                    status: "available"
                },
                {
                    id: 2,
                    name: "满减优惠券",
                    discount: 30,
                    minAmount: 150,
                    expiryDate: "2023-11-30",
                    status: "available"
                }
            ]
        };

        // 初始化函数
        document.addEventListener('DOMContentLoaded', function() {
            // 加载产品
            loadProducts();
            
            // 加载收藏
            loadFavorites();
            
            // 加载地址
            loadAddresses();
            
            // 加载优惠券
            loadCoupons();
            
            // 底部导航切换
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const pageId = this.getAttribute('data-page');
                    switchPage(pageId);
                    
                    // 更新导航状态
                    navItems.forEach(nav => nav.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            // 通知图标点击
            document.getElementById('notification-icon').addEventListener('click', function() {
                const notificationsList = document.getElementById('notifications-list');
                notificationsList.style.display = notificationsList.style.display === 'block' ? 'none' : 'block';
            });
            
            // 聊天框切换
            document.getElementById('chat-toggle').addEventListener('click', function() {
                const chatBox = document.getElementById('chat-box');
                chatBox.style.display = chatBox.style.display === 'flex' ? 'none' : 'flex';
            });
            
            document.getElementById('close-chat').addEventListener('click', function() {
                document.getElementById('chat-box').style.display = 'none';
            });
            
            // 发送消息
            document.getElementById('send-btn').addEventListener('click', sendMessage);
            document.getElementById('user-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
            
            // 管理员申请
            document.getElementById('admin-menu-item').addEventListener('click', function() {
                switchPage('admin-apply');
                // 更新导航状态
                navItems.forEach(nav => nav.classList.remove('active'));
            });
            
            // 提交申请
            document.getElementById('submit-application').addEventListener('click', submitApplication);
            
            // 头像上传
            document.getElementById('default-avatar').addEventListener('click', function() {
                document.getElementById('avatar-upload').click();
            });
            
            document.getElementById('avatar-upload').addEventListener('change', function(e) {
                if (e.target.files && e.target.files[0]) {
                    const reader = new FileReader();
                    reader.onload = function(event) {
                        const avatar = document.getElementById('default-avatar');
                        avatar.style.display = 'none';
                        avatar.parentElement.innerHTML = `<img src="${event.target.result}" alt="用户头像">`;
                    };
                    reader.readAsDataURL(e.target.files[0]);
                }
            });
            
            // 我的页面菜单项点击
            document.getElementById('my-favorites').addEventListener('click', function() {
                switchPage('favorites');
            });
            
            document.getElementById('my-wallet').addEventListener('click', function() {
                switchPage('wallet');
            });
            
            document.getElementById('my-coupons').addEventListener('click', function() {
                switchPage('coupons');
            });
            
            document.getElementById('address-management').addEventListener('click', function() {
                switchPage('addresses');
            });
            
            document.getElementById('help-center').addEventListener('click', function() {
                switchPage('help');
            });
            
            // 支付相关
            setupPaymentModal();
            
            // 结算收藏商品
            document.getElementById('checkout-favorites').addEventListener('click', function() {
                const selectedFavorites = document.querySelectorAll('.favorite-item input[type="checkbox"]:checked');
                if (selectedFavorites.length === 0) {
                    alert('请至少选择一件商品进行结算');
                    return;
                }
                
                // 模拟添加到购物车
                selectedFavorites.forEach(item => {
                    const productId = parseInt(item.closest('.product-card').getAttribute('data-id'));
                    const product = products.find(p => p.id === productId);
                    if (product) {
                        userData.cart.push({
                            ...product,
                            quantity: 1
                        });
                    }
                });
                
                // 显示支付弹窗
                document.getElementById('payment-modal').classList.add('active');
            });
        });

        // 切换页面
        function switchPage(pageId) {
            // 隐藏所有页面
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // 显示目标页面
            document.getElementById(pageId).classList.add('active');
        }

        // 加载产品
        function loadProducts() {
            const productList = document.getElementById('product-list');
            const shoppingProductList = document.getElementById('shopping-product-list');
            
            productList.innerHTML = '';
            shoppingProductList.innerHTML = '';
            
            products.forEach(product => {
                const productCard = createProductCard(product);
                productList.appendChild(productCard.cloneNode(true));
                shoppingProductList.appendChild(productCard.cloneNode(true));
            });
        }

        // 创建产品卡片
        function createProductCard(product) {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.setAttribute('data-id', product.id);
            
            card.innerHTML = `
                <img src="${product.image}" alt="${product.name}" class="product-image">
                <div class="product-info">
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">¥${product.price}</div>
                    <div class="product-actions">
                        <button class="btn btn-secondary add-to-favorite" data-id="${product.id}">
                            <i class="far fa-heart"></i> 收藏
                        </button>
                        <button class="btn btn-primary add-to-cart" data-id="${product.id}">
                            <i class="fas fa-shopping-cart"></i> 加入购物车
                        </button>
                    </div>
                </div>
            `;
            
            // 添加收藏事件
            card.querySelector('.add-to-favorite').addEventListener('click', function() {
                addToFavorites(product.id);
            });
            
            // 添加到购物车事件
            card.querySelector('.add-to-cart').addEventListener('click', function() {
                addToCart(product.id);
            });
            
            return card;
        }

        // 添加到收藏
        function addToFavorites(productId) {
            const product = products.find(p => p.id === productId);
            if (product && !userData.favorites.some(f => f.id === productId)) {
                userData.favorites.push(product);
                loadFavorites();
                showNotification('商品已添加到收藏');
            } else {
                showNotification('商品已在收藏中');
            }
        }

        // 加载收藏
        function loadFavorites() {
            const favoritesList = document.getElementById('favorites-list');
            favoritesList.innerHTML = '';
            
            if (userData.favorites.length === 0) {
                favoritesList.innerHTML = '<div style="text-align: center; padding: 20px; color: #777;">暂无收藏商品</div>';
                document.getElementById('favorites-summary').style.display = 'none';
                return;
            }
            
            userData.favorites.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card favorite-item';
                card.setAttribute('data-id', product.id);
                
                card.innerHTML = `
                    <div style="position: relative;">
                        <input type="checkbox" style="position: absolute; top: 10px; left: 10px; z-index: 1;">
                        <img src="${product.image}" alt="${product.name}" class="product-image">
                    </div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <div class="product-price">¥${product.price}</div>
                        <div class="product-actions">
                            <button class="btn btn-primary add-to-cart" data-id="${product.id}">
                                <i class="fas fa-shopping-cart"></i> 加入购物车
                            </button>
                            <button class="btn btn-secondary remove-favorite" data-id="${product.id}">
                                <i class="fas fa-trash"></i> 移除
                            </button>
                        </div>
                    </div>
                `;
                
                // 添加到购物车事件
                card.querySelector('.add-to-cart').addEventListener('click', function() {
                    addToCart(product.id);
                });
                
                // 移除收藏事件
                card.querySelector('.remove-favorite').addEventListener('click', function() {
                    removeFromFavorites(product.id);
                });
                
                // 复选框事件
                const checkbox = card.querySelector('input[type="checkbox"]');
                checkbox.addEventListener('change', updateFavoritesSummary);
                
                favoritesList.appendChild(card);
            });
            
            document.getElementById('favorites-summary').style.display = 'block';
            updateFavoritesSummary();
        }

        // 更新收藏摘要
        function updateFavoritesSummary() {
            const selectedFavorites = document.querySelectorAll('.favorite-item input[type="checkbox"]:checked');
            let total = 0;
            
            selectedFavorites.forEach(item => {
                const productId = parseInt(item.closest('.product-card').getAttribute('data-id'));
                const product = products.find(p => p.id === productId);
                if (product) {
                    total += product.price;
                }
            });
            
            document.getElementById('favorites-total').textContent = `¥${total.toFixed(2)}`;
        }

        // 从收藏中移除
        function removeFromFavorites(productId) {
            userData.favorites = userData.favorites.filter(f => f.id !== productId);
            loadFavorites();
            showNotification('商品已从收藏中移除');
        }

        // 添加到购物车
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                const existingItem = userData.cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    userData.cart.push({
                        ...product,
                        quantity: 1
                    });
                }
                showNotification('商品已添加到购物车');
            }
        }

        // 加载地址
        function loadAddresses() {
            const addressList = document.getElementById('address-list');
            addressList.innerHTML = '';
            
            userData.addresses.forEach(address => {
                const addressItem = document.createElement('div');
                addressItem.className = 'address-item';
                addressItem.innerHTML = `
                    <div class="address-info">
                        <div class="address-name">${address.name}</div>
                        <div class="address-phone">${address.phone}</div>
                        <div class="address-detail">${address.address}</div>
                    </div>
                    <div class="address-actions">
                        <button class="btn btn-secondary edit-address" data-id="${address.id}">编辑</button>
                        <button class="btn btn-secondary delete-address" data-id="${address.id}">删除</button>
                    </div>
                `;
                addressList.appendChild(addressItem);
            });
        }

        // 加载优惠券
        function loadCoupons() {
            const couponList = document.querySelector('.coupon-list');
            couponList.innerHTML = '';
            
            userData.coupons.forEach(coupon => {
                const couponItem = document.createElement('div');
                couponItem.className = 'coupon-item';
                couponItem.innerHTML = `
                    <div class="coupon-info">
                        <div class="coupon-name">${coupon.name}</div>
                        <div class="coupon-discount">¥${coupon.discount}</div>
                        <div class="coupon-condition">满${coupon.minAmount}元可用</div>
                        <div class="coupon-expiry">有效期至: ${coupon.expiryDate}</div>
                    </div>
                `;
                couponList.appendChild(couponItem);
            });
        }

        // 设置支付弹窗
        function setupPaymentModal() {
            const paymentOptions = document.querySelectorAll('.payment-option');
            const qrSections = document.querySelectorAll('.qr-code-section');
            const confirmBtn = document.getElementById('confirm-payment');
            
            paymentOptions.forEach(option => {
                option.addEventListener('click', function() {
                    // 移除所有active类
                    paymentOptions.forEach(opt => opt.classList.remove('active'));
                    qrSections.forEach(section => section.classList.remove('active'));
                    
                    // 添加active类到当前选项
                    this.classList.add('active');
                    
                    // 显示对应的二维码
                    const paymentType = this.getAttribute('data-payment');
                    document.getElementById(`${paymentType}-qr`).classList.add('active');
                    
                    // 启用确认按钮
                    confirmBtn.disabled = false;
                });
            });
            
            // 确认支付
            confirmBtn.addEventListener('click', function() {
                // 模拟支付成功
                showNotification('支付成功！订单已提交');
                document.getElementById('payment-modal').classList.remove('active');
                
                // 清空购物车
                userData.cart = [];
                
                // 播放成功音效
                playNotificationSound();
            });
            
            // 关闭弹窗
            document.querySelectorAll('.close-modal').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.closest('.modal').classList.remove('active');
                });
            });
        }

        // 提交管理员申请
        function submitApplication() {
            const username = document.getElementById('apply-username').value;
            const email = document.getElementById('apply-email').value;
            const password = document.getElementById('apply-password').value;
            const reason = document.getElementById('apply-reason').value;
            
            if (!username || !email || !password || !reason) {
                alert('请填写所有必填字段');
                return;
            }
            
            // 模拟提交申请
            document.getElementById('step-1').classList.remove('active');
            document.getElementById('step-2').classList.add('active');
            
            // 更新步骤指示器
            document.querySelectorAll('.step').forEach(step => {
                step.classList.remove('active');
            });
            document.querySelector('.step[data-step="2"]').classList.add('active');
            
            // 显示邮箱
            document.getElementById('verify-email').textContent = email;
            
            // 生成申请ID
            const applicationId = 'APP' + Date.now().toString().slice(-6);
            document.getElementById('application-id').textContent = applicationId;
            
            showNotification('申请已提交，请验证邮箱');
        }

        // 显示通知
        function showNotification(message) {
            // 创建临时通知元素
            const notification = document.createElement('div');
            notification.className = 'notification-toast';
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 80px;
                left: 50%;
                transform: translateX(-50%);
                background: #333;
                color: white;
                padding: 10px 20px;
                border-radius: 5px;
                z-index: 1000;
                opacity: 0;
                transition: opacity 0.3s;
            `;
            
            document.body.appendChild(notification);
            
            // 显示通知
            setTimeout(() => {
                notification.style.opacity = '1';
            }, 100);
            
            // 隐藏通知
            setTimeout(() => {
                notification.style.opacity = '0';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // 播放通知声音
        function playNotificationSound() {
            const audio = document.getElementById('notification-sound');
            audio.currentTime = 0;
            audio.play().catch(e => console.log('音频播放失败:', e));
        }

        // 发送客服消息
        function sendMessage() {
            const userInput = document.getElementById('user-input');
            const message = userInput.value.trim();
            
            if (!message) return;
            
            // 添加用户消息
            const chatMessages = document.getElementById('chat-messages');
            const userMessage = document.createElement('div');
            userMessage.className = 'message user';
            userMessage.textContent = message;
            chatMessages.appendChild(userMessage);
            
            // 清空输入框
            userInput.value = '';
            
            // 滚动到底部
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // 模拟客服回复
            setTimeout(() => {
                const botMessage = document.createElement('div');
                botMessage.className = 'message bot';
                
                // 简单的关键词回复
                if (message.includes('退货') || message.includes('退款')) {
                    botMessage.textContent = '您可以在"我的订单"中申请退货退款，我们的客服会在24小时内处理。';
                } else if (message.includes('物流') || message.includes('快递')) {
                    botMessage.textContent = '您可以在"我的订单"中查看物流信息，如有问题请联系我们的物流客服。';
                } else if (message.includes('优惠') || message.includes('折扣')) {
                    botMessage.textContent = '我们定期会有优惠活动，请关注首页和通知，新用户还有专属优惠券哦！';
                } else {
                    botMessage.textContent = '感谢您的咨询，如需进一步帮助，请拨打客服电话09-665596297。';
                }
                
                chatMessages.appendChild(botMessage);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000);
        }

        // 拨打电话
        function makePhoneCall() {
            if (confirm('是否拨打客服电话 09-665596297？')) {
                window.location.href = 'tel:09-665596297';
            }
        }

        // 发送邮件
        function sendEmail() {
            window.location.href = 'mailto:luy56913@gmail.com?subject=璐瑶购物咨询&body=您好，我有以下问题需要咨询：';
        }
    </script>
</body>
</html>